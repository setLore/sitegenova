<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>M&D â€” About</title>
	<style>
		/* minimal page styles to match header/footer behavior (reuse simple parts) */
		*, *::before, *::after { box-sizing: border-box; }
		body { margin:0; font-family: system-ui, -apple-system, "Segoe UI", Roboto, Arial; background:#181818; color:#fff; padding-bottom:120px; }
		.site-header { width:100%; background:#222; padding:20px; display:flex; align-items:center; gap:16px; border-radius:0 0 16px 16px; }
		.logo { height:48px; margin-left:12px; }
		.nav-buttons { display:flex; gap:12px; margin-left:auto; }
		.nav-buttons a { background:#333; color:#fff; padding:8px 12px; border-radius:8px; text-decoration:none; }
		.header-actions{ display:flex; gap:12px; margin-left:12px; align-items:center; }
		.cart-button{ background:#333; color:#fff; padding:8px; border-radius:10px; text-decoration:none; position:relative; display:inline-flex; align-items:center; }
		.cart-count{ position:absolute; top:6px; right:6px; background:#ff4d4f; padding:0 6px; border-radius:999px; font-size:12px; }
		.page-main { max-width:1000px; margin:24px auto; padding:16px; }
		.site-footer { position:fixed; left:0; right:0; bottom:0; background:#222; color:#fff; text-align:center; padding:12px; border-radius:12px 12px 0 0; }
	</style>
</head>
<body>
	<header class="site-header">
		<a href="index.html" class="logo-link" aria-label="M&D home">
			<img src="logo.png" alt="M&D logo" class="logo">
		</a>
		<nav id="site-nav" class="nav-buttons" role="navigation">
			<a class="nav-link" href="index.html">Home</a>
			<a class="nav-link" href="shop.html">Shop</a>
			<a class="nav-link" href="about.html">About</a>
		</nav>

		<div class="header-actions">
			<button class="menu-toggle" aria-controls="site-nav" aria-expanded="false" aria-label="Open menu">
				<span class="bar"></span>
				<span class="bar"></span>
				<span class="bar"></span>
			</button>

			<a class="cart-button" href="cart.html" aria-label="Open cart">
				<img src="cart.png" alt="" class="cart-icon" aria-hidden="true">
				<span class="cart-count" aria-hidden="true">0</span>
			</a>
		</div>
	</header>

	<main class="page-main" role="main">
		<h1>About M&D</h1>
		<p style="color:#ddd">...existing about content...</p>
	</main>

	<footer class="site-footer">Copyright M&D</footer>

	<script>
		// unified site script (about.html)
		(function(){
			const PAGE_SITE_TOKEN = 'site-v2';
			(function ensureSiteToken(){
				const stored = localStorage.getItem('md_site_start_token');
				if (stored !== PAGE_SITE_TOKEN) {
					localStorage.removeItem('md_cart');
					localStorage.setItem('md_site_start_token', PAGE_SITE_TOKEN);
					localStorage.setItem('md_cart_sync', Date.now().toString());
				}
			})();

			function getCart() {
				try { return JSON.parse(localStorage.getItem('md_cart') || '[]'); } catch(e) { return []; }
			}
			function updateCartCount() {
				const cart = getCart();
				const totalQty = cart.reduce((s,i) => s + (i.qty||1), 0);
				document.querySelectorAll('.cart-count').forEach(el => el.textContent = totalQty);
			}

			(function bindMenu(){
				const toggle = document.querySelector('.menu-toggle');
				const nav = document.getElementById('site-nav');
				if (!toggle || !nav) return;
				toggle.addEventListener('click', (e) => {
					e.stopPropagation();
					const isOpen = toggle.getAttribute('aria-expanded') === 'true';
					toggle.setAttribute('aria-expanded', String(!isOpen));
					toggle.setAttribute('aria-label', !isOpen ? 'Close menu' : 'Open menu');
					nav.classList.toggle('open', !isOpen);
				});
				nav.addEventListener('click', (e) => e.stopPropagation());
				window.addEventListener('resize', () => {
					if (window.innerWidth > 600) {
						toggle.setAttribute('aria-expanded','false');
						nav.classList.remove('open');
					}
				});
				document.addEventListener('click', (e) => {
					if (window.innerWidth <= 600 && nav.classList.contains('open')) {
						if (!nav.contains(e.target) && !toggle.contains(e.target)) {
							toggle.setAttribute('aria-expanded','false');
							nav.classList.remove('open');
						}
					}
				});
			})();

			window.addEventListener('storage', (ev) => {
				if (ev.key === 'md_cart' || ev.key === 'md_cart_sync') updateCartCount();
			});

			if (document.readyState === 'loading') {
				document.addEventListener('DOMContentLoaded', updateCartCount);
			} else updateCartCount();
		})();
	</script>
</body>
</html>
